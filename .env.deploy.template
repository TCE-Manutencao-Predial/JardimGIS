# JardimGIS Configuration v2.0.0
# =====================================
# ATENÇÃO: Este arquivo contém valores de PRODUÇÃO hardcoded
# Para desenvolvimento local, copie para .env e ajuste conforme necessário

# ============================================================
# SEGURANÇA (CRÍTICO)
# ============================================================

# Chave secreta Flask - DEVE ser gerado antes do deploy!
# Execute: python3 -c "import secrets; print(secrets.token_hex(32))"
# Mínimo: 32 caracteres (recomendado: 64 caracteres hexadecimais)
SECRET_KEY=GERAR_ANTES_DEPLOY_64_CHARS_HEX


# ============================================================
# FLASK
# ============================================================

# Modo de execução: development | production
# - development: Flask debug server, auto-reload, mensagens verbose
# - production: Waitress WSGI server, otimizado para performance
FLASK_CONFIG=production

# Porta do servidor Waitress
# Padrão: 4141 (preservado da configuração original)
PORT=4141


# ============================================================
# DIRETÓRIOS (Produção - Linux)
# ============================================================

# Diretório de dados
# Contém: arvores.json, bak/ (backups), uploads
DATA_DIR=/var/softwaresTCE/dados/jardimgis

# Diretório de logs
# Contém: jardimgis.log (rotacionado automaticamente)
LOGS_DIR=/var/softwaresTCE/logs/jardim_gis


# ============================================================
# BACKUPS AUTOMÁTICOS
# ============================================================

# Habilita scheduler de backups automáticos
# true = Ativa agendador (backup diário)
# false = Desativa scheduler
BACKUP_ENABLED=true

# Horário do backup diário (formato HH:MM)
# Padrão: 20:00 (8 PM)
# Executa cópia de arvores.json para DATA_DIR/bak/
BACKUP_TIME=20:00


# ============================================================
# UPLOAD DE ARQUIVOS
# ============================================================

# Tamanho máximo de upload (em MB)
# Padrão: 100MB
# Formatos permitidos: PDF, DOC, DOCX, XLS, XLSX, JPG, JPEG, PNG, GIF, ZIP, RAR, 7Z
MAX_UPLOAD_SIZE_MB=100


# ============================================================
# REVERSE PROXY (Apache)
# ============================================================

# Ativa ProxyFix (Werkzeug middleware)
# true = Confia em headers X-Forwarded-* do Apache
# false = Desativa (use em desenvolvimento local sem proxy)
# IMPORTANTE: Necessário para autenticação htpasswd funcionar corretamente
IS_REVERSE_PROXY=true


# ============================================================
# CACHE BUSTING
# ============================================================

# Versão dos assets estáticos (CSS, JS, images)
# Incrementar em cada deploy com mudanças frontend
# Formato sugerido: MAJOR.MINOR.PATCH
STATIC_VERSION=2.0.0


# ============================================================
# NOTAS DE DESENVOLVIMENTO
# ============================================================
#
# Para desenvolvimento local:
# 1. Copie este arquivo: cp .env.deploy.template .env
# 2. Edite .env:
#    - FLASK_CONFIG=development
#    - DATA_DIR=./app/dados (ou outro local)
#    - LOGS_DIR=./app/logs
#    - IS_REVERSE_PROXY=false
# 3. Gere SECRET_KEY seguro (mesmo em dev)
# 4. Execute: python3 jardim_gis.py
#
# Para validar configuração:
# - Execute: make validate
# - Ou: python3 tools/validate-env.py
#
# Para deploy em produção:
# 1. Copie este arquivo para /var/softwaresTCE/jardim_gis/.env.deploy
# 2. GERE SECRET_KEY SEGURO (obrigatório!)
# 3. Valide: make validate
# 4. Deploy: make deploy
#
# ============================================================
